{"pro_id":"str_jdjsCIwvc_","pro_name":"机场高速","pro_docs":[{"canvas":{"objects":[{"type":"group","originX":"center","originY":"center","left":103.5,"top":108.5,"width":36,"height":36,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1.24,"scaleY":1.24,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"scada_attr":{"doc_id":"str_outhlmCii_","script":"\n  {\n    /*@ 数据处理端\n    * 访问自定义属性 this.getAttr('attr_name');\n\n    * 访问图元状态值，状态由key 状态名、value 状态值构成。\n       例如 this.setState('rotate',1),来设置rotate 这个状态的值。\n\n    * 获取图元的状态值，this.getState('状态名')。\n    *\n    */\n    process:{\n\n      /*\n      数据处理方法 ，每次自定义属性中的值发生变化，都将触发此\n      */\n      data_handler:function(){\n        \n        // 正转\n        if(this.getAttr('zz').value == '1')\n        {\n          this.setState('zz'); \n        }\n        \n        // 反转\n         if(this.getAttr('fz').value == '1')\n        {\n          this.setState('fz');\n        }\n        \n        // 停止\n        if(this.getAttr('st').value == '1')\n        {\n          this.setState('st');\n        }\n      }  \n    },\n\n    /*@ 数据消费端\n      * 通用旋转方法，this.animate.rotate(animate_type),\n        当animate_type 为1时正转、2反转、0停止。\n\n      * 通用发布控制方法，this.setCtr(attr_name,value),通过该方法\n        可以下发控制到设备端，attr_name 为数据处理端的对应的attr，\n        value为对应的值\n\n      * 获取图元的状态值，this.getState('状态名')。\n\n    */\n    consume:{\n\n      /*\n       * 鼠标事件监听 ，event的值可能为 mouse:over,mouse:down,\n         mouse:up\n      */\n      Event:function(event_type,event){\n        //console.log(\"事件监听\");\n         //console.log(event);\n        //console.log(obj.state);\n        //console.log( this.getState());\n        if(event_type == \"mouse:down\"){\n         \n          //console.log(\"mouse down\");\n          //console.log(event.e);\n          var state = this.getState();\n          //console.log(state);\n          //console.log(\"风机1下发控制\");\n          switch(state){\n            case 'zz': // 正转\n              this.setCtr(\"fz\",1);// 下发反转的控制\n              break;\n            case 'fz':\n              this.setCtr('st',1);// 下发停止控制\n              break;\n            case 'st':\n              this.setCtr('zz',1);//下发控制的曹组\n              break;\n          }\n        }\n        else if(event_type == \"mouse:move\"){\n          let statusName = '';\n          var state = this.getState();\n          switch(state){\n            case 'zz':\n              statusName = '正转';\n              break;\n            case 'fz':\n             statusName = '反转';\n              break;\n            case 'st':\n              statusName = '停止';\n              break;\n          }\n          //console.log();\n          \n          this.showDialog('status',{left:event.e.clientX + 10,top:event.e.clientY+10},{\"ID\":this.scada_attr.guid,'name':'','zh':'','status':statusName});\n        }\n        else if(event_type == \"mouse:out\")\n        {\n          this.removeDialog();\n        }\n      },\n\n      /*\n       * 数据消费方法 ，当数据处理端(process) 调用\n        this.setState()来设置状态时，将会触发次消费方法\n      */\n      consume_data:function(state){\n        switch(state)\n        {\n          case 'zz':\n             this.animate.rotate = 1;\n             break;\n          case 'fz':\n             this.animate.rotate = 2;\n             break;\n          case 'st':\n             this.animate.rotate = 0;\n             break;\n        }\n      },\n\n    }\n  }\n  ","guid":"str_fjnAcbHvHu","attr":[{"attrName":"zz","value":"device1-1","editor":"text","tagName":"device1-1"},{"attrName":"fz","value":"device1-2","editor":"text","tagName":"device1-2"},{"attrName":"st","value":"device1-3","editor":"text","tagName":"device1-3"}],"IP":""},"objects":[{"type":"circle","originX":"center","originY":"center","left":0,"top":0.3,"width":10.2,"height":10.2,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"radius":5.1,"startAngle":0,"endAngle":6.283185307179586},{"type":"path","originX":"center","originY":"center","left":0,"top":0.29999999999999716,"width":32,"height":32,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",18,2.3],["c",-8.8,0,-16,7.2,-16,16],["s",7.2,16,16,16],["c",8.8,0,16,-7.2,16,-16],["S",26.8,2.3,18,2.3],["z"],["M",18,32.8],["c",-8,0,-14.5,-6.5,-14.5,-14.5],["S",10,3.8,18,3.8],["c",8,0,14.5,6.5,14.5,14.5],["S",26,32.8,18,32.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-5.650000000000002,"top":-7.999999999999998,"width":10.1,"height":7,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",17.4,11.8],["c",-1.5,-3.1,-2.9,-4.6,-3.8,-5.3],["c",-2.6,1,-4.8,2.8,-6.3,5.1],["c",4.3,0.1,6,1.9,6,1.9],["C",14.5,12.5,15.9,11.9,17.4,11.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":3.8500000000000014,"top":-7.899999999999999,"width":7.7,"height":8.6,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",19.5,11.9],["c",1.5,0.4,2.8,1.4,3.7,2.5],["c",0,0,2,-2.6,2.5,-5.9],["c",-2.1,-1.7,-4.8,-2.7,-7.7,-2.7],["C",18.9,6.8,19.9,9,19.5,11.9],["z"]]},{"type":"path","originX":"center","originY":"center","left":9.200000000000003,"top":-1.39513749501101,"width":6.6,"height":9.01,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",28.8,12.1],["c",-1.1,2.1,-4,4.1,-4.6,4.5],["c",0.2,0.5,0.3,1.1,0.3,1.7],["c",0,1,-0.2,1.9,-0.6,2.7],["c",2,0.4,5.1,-0.4,6.4,-0.7],["c",0.1,-0.6,0.2,-1.3,0.2,-2],["C",30.5,16,29.9,13.9,28.8,12.1],["z"]]},{"type":"path","originX":"center","originY":"center","left":5.549999999999997,"top":8.350000000000001,"width":10.7,"height":7.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",22.4,22.8],["c",-1.1,1.1,-2.5,1.7,-4.2,1.8],["c",0.9,2.3,2.9,4.3,4.1,5.3],["c",2.8,-1,5.1,-3.1,6.6,-5.6],["C",25.8,24.6,23.4,23.4,22.4,22.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-4.399999999999999,"top":8.25,"width":8,"height":9.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",16.1,24.5],["c",-1.5,-0.5,-2.8,-1.5,-3.7,-2.8],["c",-1.3,1.5,-2.3,4.3,-2.8,5.9],["c",2.1,1.9,4.9,3.1,8,3.2],["C",16.1,28,16,25.6,16.1,24.5],["z"]]},{"type":"path","originX":"center","originY":"center","left":-9.3,"top":1.5147197134577581,"width":6.6,"height":8.97,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",11.3,18.2],["c",0,-1.1,0.3,-2.1,0.7,-3],["c",-0.8,-0.2,-3.2,-0.4,-6.3,0.5],["c",-0.2,0.8,-0.3,1.7,-0.3,2.6],["c",0,2,0.5,4,1.4,5.7],["c",0.5,-1.1,1.8,-3,4.7,-4.3],["C",11.4,19.1,11.3,18.7,11.3,18.2],["z"]]}]},{"type":"group","originX":"center","originY":"center","left":101.75,"top":279.75,"width":36,"height":36,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1.2,"scaleY":1.2,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"scada_attr":{"doc_id":"str_outhlmCii_","script":"\n  {\n    /*@ 数据处理端\n    * 访问自定义属性 this.getAttr('attr_name');\n\n    * 访问图元状态值，状态由key 状态名、value 状态值构成。\n       例如 this.setState('rotate',1),来设置rotate 这个状态的值。\n\n    * 获取图元的状态值，this.getState('状态名')。\n    *\n    */\n    process:{\n\n      /*\n      数据处理方法 ，每次自定义属性中的值发生变化，都将触发此\n      */\n      data_handler:function(){\n        \n        // 正转\n        if(this.getAttr('zz').value == '1')\n        {\n          this.setState('zz'); \n        }\n        \n        // 反转\n         if(this.getAttr('fz').value == '1')\n        {\n          this.setState('fz');\n        }\n        \n        // 停止\n        if(this.getAttr('st').value == '1')\n        {\n          this.setState('st');\n        }\n      }  \n    },\n\n    /*@ 数据消费端\n      * 通用旋转方法，this.animate.rotate(animate_type),\n        当animate_type 为1时正转、2反转、0停止。\n\n      * 通用发布控制方法，this.setCtr(attr_name,value),通过该方法\n        可以下发控制到设备端，attr_name 为数据处理端的对应的attr，\n        value为对应的值\n\n      * 获取图元的状态值，this.getState('状态名')。\n\n    */\n    consume:{\n\n      /*\n       * 鼠标事件监听 ，event的值可能为 mouse:over,mouse:down,\n         mouse:up\n      */\n      Event:function(event_type,event){\n        //console.log(\"事件监听\");\n         //console.log(event);\n        //console.log(obj.state);\n        //console.log( this.getState());\n        if(event_type == \"mouse:down\"){\n         \n          //console.log(\"mouse down\");\n          //console.log(event.e);\n          var state = this.getState();\n          //console.log(state);\n          switch(state){\n            case 'zz': // 正转\n              this.setCtr(\"fz\",1);// 下发反转的控制\n              break;\n            case 'fz':\n              this.setCtr('st',1);// 下发停止控制\n              break;\n            case 'st':\n              this.setCtr('zz',1);//下发控制的曹组\n              break;\n          }\n        }\n        else if(event_type == \"mouse:move\"){\n          let statusName = '';\n          var state = this.getState();\n          switch(state){\n            case 'zz':\n              statusName = '正转';\n              break;\n            case 'fz':\n             statusName = '反转';\n              break;\n            case 'st':\n              statusName = '停止';\n              break;\n          }\n          this.showDialog('status',{left:event.e.clientX + 10,top:event.e.clientY+10},{\"ID\":this.scada_attr.guid,'name':'','zh':'','status':statusName});\n        }\n        else if(event_type == \"mouse:out\")\n        {\n          this.removeDialog();\n        }\n      },\n\n      /*\n       * 数据消费方法 ，当数据处理端(process) 调用\n        this.setState()来设置状态时，将会触发次消费方法\n      */\n      consume_data:function(state){\n        switch(state)\n        {\n          case 'zz':\n             this.animate.rotate = 1;\n             break;\n          case 'fz':\n             this.animate.rotate = 2;\n             break;\n          case 'st':\n             this.animate.rotate = 0;\n             break;\n        }\n      },\n\n    }\n  }\n  ","guid":"str_yEHwCnghDe","attr":[{"attrName":"zz","value":"device2-1","editor":"text","tagName":"device2-1"},{"attrName":"fz","value":"device2-2","editor":"text","tagName":"device2-2"},{"attrName":"st","value":"device2-3","editor":"text","tagName":"device2-3"}],"IP":""},"objects":[{"type":"circle","originX":"center","originY":"center","left":0,"top":0.3,"width":10.2,"height":10.2,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"radius":5.1,"startAngle":0,"endAngle":6.283185307179586},{"type":"path","originX":"center","originY":"center","left":0,"top":0.29999999999999716,"width":32,"height":32,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",18,2.3],["c",-8.8,0,-16,7.2,-16,16],["s",7.2,16,16,16],["c",8.8,0,16,-7.2,16,-16],["S",26.8,2.3,18,2.3],["z"],["M",18,32.8],["c",-8,0,-14.5,-6.5,-14.5,-14.5],["S",10,3.8,18,3.8],["c",8,0,14.5,6.5,14.5,14.5],["S",26,32.8,18,32.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-5.650000000000002,"top":-7.999999999999998,"width":10.1,"height":7,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",17.4,11.8],["c",-1.5,-3.1,-2.9,-4.6,-3.8,-5.3],["c",-2.6,1,-4.8,2.8,-6.3,5.1],["c",4.3,0.1,6,1.9,6,1.9],["C",14.5,12.5,15.9,11.9,17.4,11.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":3.8500000000000014,"top":-7.899999999999999,"width":7.7,"height":8.6,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",19.5,11.9],["c",1.5,0.4,2.8,1.4,3.7,2.5],["c",0,0,2,-2.6,2.5,-5.9],["c",-2.1,-1.7,-4.8,-2.7,-7.7,-2.7],["C",18.9,6.8,19.9,9,19.5,11.9],["z"]]},{"type":"path","originX":"center","originY":"center","left":9.200000000000003,"top":-1.39513749501101,"width":6.6,"height":9.01,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",28.8,12.1],["c",-1.1,2.1,-4,4.1,-4.6,4.5],["c",0.2,0.5,0.3,1.1,0.3,1.7],["c",0,1,-0.2,1.9,-0.6,2.7],["c",2,0.4,5.1,-0.4,6.4,-0.7],["c",0.1,-0.6,0.2,-1.3,0.2,-2],["C",30.5,16,29.9,13.9,28.8,12.1],["z"]]},{"type":"path","originX":"center","originY":"center","left":5.549999999999997,"top":8.350000000000001,"width":10.7,"height":7.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",22.4,22.8],["c",-1.1,1.1,-2.5,1.7,-4.2,1.8],["c",0.9,2.3,2.9,4.3,4.1,5.3],["c",2.8,-1,5.1,-3.1,6.6,-5.6],["C",25.8,24.6,23.4,23.4,22.4,22.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-4.399999999999999,"top":8.25,"width":8,"height":9.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",16.1,24.5],["c",-1.5,-0.5,-2.8,-1.5,-3.7,-2.8],["c",-1.3,1.5,-2.3,4.3,-2.8,5.9],["c",2.1,1.9,4.9,3.1,8,3.2],["C",16.1,28,16,25.6,16.1,24.5],["z"]]},{"type":"path","originX":"center","originY":"center","left":-9.3,"top":1.5147197134577581,"width":6.6,"height":8.97,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",11.3,18.2],["c",0,-1.1,0.3,-2.1,0.7,-3],["c",-0.8,-0.2,-3.2,-0.4,-6.3,0.5],["c",-0.2,0.8,-0.3,1.7,-0.3,2.6],["c",0,2,0.5,4,1.4,5.7],["c",0.5,-1.1,1.8,-3,4.7,-4.3],["C",11.4,19.1,11.3,18.7,11.3,18.2],["z"]]}]},{"type":"group","originX":"center","originY":"center","left":99.25,"top":444.25,"width":36,"height":36,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1.28,"scaleY":1.28,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"scada_attr":{"doc_id":"str_outhlmCii_","script":"\n  {\n    /*@ 数据处理端\n    * 访问自定义属性 this.getAttr('attr_name');\n\n    * 访问图元状态值，状态由key 状态名、value 状态值构成。\n       例如 this.setState('rotate',1),来设置rotate 这个状态的值。\n\n    * 获取图元的状态值，this.getState('状态名')。\n    *\n    */\n    process:{\n\n      /*\n      数据处理方法 ，每次自定义属性中的值发生变化，都将触发此\n      */\n      data_handler:function(){\n        \n        // 正转\n        if(this.getAttr('zz').value == '1')\n        {\n          this.setState('zz'); \n        }\n        \n        // 反转\n         if(this.getAttr('fz').value == '1')\n        {\n          this.setState('fz');\n        }\n        \n        // 停止\n        if(this.getAttr('st').value == '1')\n        {\n          this.setState('st');\n        }\n      }  \n    },\n\n    /*@ 数据消费端\n      * 通用旋转方法，this.animate.rotate(animate_type),\n        当animate_type 为1时正转、2反转、0停止。\n\n      * 通用发布控制方法，this.setCtr(attr_name,value),通过该方法\n        可以下发控制到设备端，attr_name 为数据处理端的对应的attr，\n        value为对应的值\n\n      * 获取图元的状态值，this.getState('状态名')。\n\n    */\n    consume:{\n\n      /*\n       * 鼠标事件监听 ，event的值可能为 mouse:over,mouse:down,\n         mouse:up\n      */\n      Event:function(event_type,event){\n        //console.log(\"事件监听\");\n         //console.log(event);\n        //console.log(obj.state);\n        //console.log( this.getState());\n        if(event_type == \"mouse:down\"){\n         \n          //console.log(\"mouse down\");\n          //console.log(event.e);\n          var state = this.getState();\n          //console.log(state);\n          switch(state){\n            case 'zz': // 正转\n              this.setCtr(\"fz\",1);// 下发反转的控制\n              break;\n            case 'fz':\n              this.setCtr('st',1);// 下发停止控制\n              break;\n            case 'st':\n              this.setCtr('zz',1);//下发控制的曹组\n              break;\n          }\n        }\n        else if(event_type == \"mouse:move\"){\n          let statusName = '';\n          var state = this.getState();\n          switch(state){\n            case 'zz':\n              statusName = '正转';\n              break;\n            case 'fz':\n             statusName = '反转';\n              break;\n            case 'st':\n              statusName = '停止';\n              break;\n          }\n         this.showDialog('status',{left:event.e.clientX + 10,top:event.e.clientY+10},{\"ID\":this.scada_attr.guid,'name':'','zh':'','status':statusName});\n        }\n        else if(event_type == \"mouse:out\")\n        {\n          this.removeDialog();\n        }\n      },\n\n      /*\n       * 数据消费方法 ，当数据处理端(process) 调用\n        this.setState()来设置状态时，将会触发次消费方法\n      */\n      consume_data:function(state){\n        switch(state)\n        {\n          case 'zz':\n             this.animate.rotate = 1;\n             break;\n          case 'fz':\n             this.animate.rotate = 2;\n             break;\n          case 'st':\n             this.animate.rotate = 0;\n             break;\n        }\n      },\n\n    }\n  }\n  ","guid":"str_EIigpqeE_d","attr":[{"attrName":"zz","value":"device3-1","editor":"text","tagName":"device3-1"},{"attrName":"fz","value":"device3-2","editor":"text","tagName":"device3-2"},{"attrName":"st","value":"device3-3","editor":"text","tagName":"device3-3"}],"IP":""},"objects":[{"type":"circle","originX":"center","originY":"center","left":0,"top":0.3,"width":10.2,"height":10.2,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"radius":5.1,"startAngle":0,"endAngle":6.283185307179586},{"type":"path","originX":"center","originY":"center","left":0,"top":0.29999999999999716,"width":32,"height":32,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",18,2.3],["c",-8.8,0,-16,7.2,-16,16],["s",7.2,16,16,16],["c",8.8,0,16,-7.2,16,-16],["S",26.8,2.3,18,2.3],["z"],["M",18,32.8],["c",-8,0,-14.5,-6.5,-14.5,-14.5],["S",10,3.8,18,3.8],["c",8,0,14.5,6.5,14.5,14.5],["S",26,32.8,18,32.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-5.650000000000002,"top":-7.999999999999998,"width":10.1,"height":7,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",17.4,11.8],["c",-1.5,-3.1,-2.9,-4.6,-3.8,-5.3],["c",-2.6,1,-4.8,2.8,-6.3,5.1],["c",4.3,0.1,6,1.9,6,1.9],["C",14.5,12.5,15.9,11.9,17.4,11.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":3.8500000000000014,"top":-7.899999999999999,"width":7.7,"height":8.6,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",19.5,11.9],["c",1.5,0.4,2.8,1.4,3.7,2.5],["c",0,0,2,-2.6,2.5,-5.9],["c",-2.1,-1.7,-4.8,-2.7,-7.7,-2.7],["C",18.9,6.8,19.9,9,19.5,11.9],["z"]]},{"type":"path","originX":"center","originY":"center","left":9.200000000000003,"top":-1.39513749501101,"width":6.6,"height":9.01,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",28.8,12.1],["c",-1.1,2.1,-4,4.1,-4.6,4.5],["c",0.2,0.5,0.3,1.1,0.3,1.7],["c",0,1,-0.2,1.9,-0.6,2.7],["c",2,0.4,5.1,-0.4,6.4,-0.7],["c",0.1,-0.6,0.2,-1.3,0.2,-2],["C",30.5,16,29.9,13.9,28.8,12.1],["z"]]},{"type":"path","originX":"center","originY":"center","left":5.549999999999997,"top":8.350000000000001,"width":10.7,"height":7.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",22.4,22.8],["c",-1.1,1.1,-2.5,1.7,-4.2,1.8],["c",0.9,2.3,2.9,4.3,4.1,5.3],["c",2.8,-1,5.1,-3.1,6.6,-5.6],["C",25.8,24.6,23.4,23.4,22.4,22.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-4.399999999999999,"top":8.25,"width":8,"height":9.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",16.1,24.5],["c",-1.5,-0.5,-2.8,-1.5,-3.7,-2.8],["c",-1.3,1.5,-2.3,4.3,-2.8,5.9],["c",2.1,1.9,4.9,3.1,8,3.2],["C",16.1,28,16,25.6,16.1,24.5],["z"]]},{"type":"path","originX":"center","originY":"center","left":-9.3,"top":1.5147197134577581,"width":6.6,"height":8.97,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",11.3,18.2],["c",0,-1.1,0.3,-2.1,0.7,-3],["c",-0.8,-0.2,-3.2,-0.4,-6.3,0.5],["c",-0.2,0.8,-0.3,1.7,-0.3,2.6],["c",0,2,0.5,4,1.4,5.7],["c",0.5,-1.1,1.8,-3,4.7,-4.3],["C",11.4,19.1,11.3,18.7,11.3,18.2],["z"]]}]},{"type":"group","originX":"center","originY":"center","left":99,"top":615,"width":36,"height":36,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1.22,"scaleY":1.22,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"scada_attr":{"doc_id":"str_outhlmCii_","script":"\n  {\n    /*@ 数据处理端\n    * 访问自定义属性 this.getAttr('attr_name');\n\n    * 访问图元状态值，状态由key 状态名、value 状态值构成。\n       例如 this.setState('rotate',1),来设置rotate 这个状态的值。\n\n    * 获取图元的状态值，this.getState('状态名')。\n    *\n    */\n    process:{\n\n      /*\n      数据处理方法 ，每次自定义属性中的值发生变化，都将触发此\n      */\n      data_handler:function(){\n        \n        // 正转\n        if(this.getAttr('zz').value == '1')\n        {\n          this.setState('zz'); \n        }\n        \n        // 反转\n         if(this.getAttr('fz').value == '1')\n        {\n          this.setState('fz');\n        }\n        \n        // 停止\n        if(this.getAttr('st').value == '1')\n        {\n          this.setState('st');\n        }\n      }  \n    },\n\n    /*@ 数据消费端\n      * 通用旋转方法，this.animate.rotate(animate_type),\n        当animate_type 为1时正转、2反转、0停止。\n\n      * 通用发布控制方法，this.setCtr(attr_name,value),通过该方法\n        可以下发控制到设备端，attr_name 为数据处理端的对应的attr，\n        value为对应的值\n\n      * 获取图元的状态值，this.getState('状态名')。\n\n    */\n    consume:{\n\n      /*\n       * 鼠标事件监听 ，event的值可能为 mouse:over,mouse:down,\n         mouse:up\n      */\n      Event:function(event_type,event){\n        //console.log(\"事件监听\");\n         //console.log(event);\n        //console.log(obj.state);\n        //console.log( this.getState());\n        if(event_type == \"mouse:down\"){\n         \n          //console.log(\"mouse down\");\n          //console.log(event.e);\n          var state = this.getState();\n          //console.log(state);\n          switch(state){\n            case 'zz': // 正转\n              this.setCtr(\"fz\",1);// 下发反转的控制\n              break;\n            case 'fz':\n              this.setCtr('st',1);// 下发停止控制\n              break;\n            case 'st':\n              this.setCtr('zz',1);//下发控制的曹组\n              break;\n          }\n        }\n        else if(event_type == \"mouse:move\"){\n          let statusName = '';\n          var state = this.getState();\n          switch(state){\n            case 'zz':\n              statusName = '正转';\n              break;\n            case 'fz':\n             statusName = '反转';\n              break;\n            case 'st':\n              statusName = '停止';\n              break;\n          }\n          this.showDialog('status',{left:event.e.clientX + 10,top:event.e.clientY+10},{\"ID\":this.scada_attr.guid,'name':'','zh':'','status':statusName});\n        }\n        else if(event_type == \"mouse:out\")\n        {\n          this.removeDialog();\n        }\n      },\n\n      /*\n       * 数据消费方法 ，当数据处理端(process) 调用\n        this.setState()来设置状态时，将会触发次消费方法\n      */\n      consume_data:function(state){\n        switch(state)\n        {\n          case 'zz':\n             this.animate.rotate = 1;\n             break;\n          case 'fz':\n             this.animate.rotate = 2;\n             break;\n          case 'st':\n             this.animate.rotate = 0;\n             break;\n        }\n      },\n\n    }\n  }\n  ","guid":"str__piuchzsfu","attr":[{"attrName":"zz","value":"device1-1","editor":"text","tagName":"device1-1"},{"attrName":"fz","value":"device1-2","editor":"text","tagName":"device1-2"},{"attrName":"st","value":"device1-3","editor":"text","tagName":"device1-3"}],"IP":""},"objects":[{"type":"circle","originX":"center","originY":"center","left":0,"top":0.3,"width":10.2,"height":10.2,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"radius":5.1,"startAngle":0,"endAngle":6.283185307179586},{"type":"path","originX":"center","originY":"center","left":0,"top":0.29999999999999716,"width":32,"height":32,"fill":"#B5BDC9","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",18,2.3],["c",-8.8,0,-16,7.2,-16,16],["s",7.2,16,16,16],["c",8.8,0,16,-7.2,16,-16],["S",26.8,2.3,18,2.3],["z"],["M",18,32.8],["c",-8,0,-14.5,-6.5,-14.5,-14.5],["S",10,3.8,18,3.8],["c",8,0,14.5,6.5,14.5,14.5],["S",26,32.8,18,32.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-5.650000000000002,"top":-7.999999999999998,"width":10.1,"height":7,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",17.4,11.8],["c",-1.5,-3.1,-2.9,-4.6,-3.8,-5.3],["c",-2.6,1,-4.8,2.8,-6.3,5.1],["c",4.3,0.1,6,1.9,6,1.9],["C",14.5,12.5,15.9,11.9,17.4,11.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":3.8500000000000014,"top":-7.899999999999999,"width":7.7,"height":8.6,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",19.5,11.9],["c",1.5,0.4,2.8,1.4,3.7,2.5],["c",0,0,2,-2.6,2.5,-5.9],["c",-2.1,-1.7,-4.8,-2.7,-7.7,-2.7],["C",18.9,6.8,19.9,9,19.5,11.9],["z"]]},{"type":"path","originX":"center","originY":"center","left":9.200000000000003,"top":-1.39513749501101,"width":6.6,"height":9.01,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",28.8,12.1],["c",-1.1,2.1,-4,4.1,-4.6,4.5],["c",0.2,0.5,0.3,1.1,0.3,1.7],["c",0,1,-0.2,1.9,-0.6,2.7],["c",2,0.4,5.1,-0.4,6.4,-0.7],["c",0.1,-0.6,0.2,-1.3,0.2,-2],["C",30.5,16,29.9,13.9,28.8,12.1],["z"]]},{"type":"path","originX":"center","originY":"center","left":5.549999999999997,"top":8.350000000000001,"width":10.7,"height":7.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",22.4,22.8],["c",-1.1,1.1,-2.5,1.7,-4.2,1.8],["c",0.9,2.3,2.9,4.3,4.1,5.3],["c",2.8,-1,5.1,-3.1,6.6,-5.6],["C",25.8,24.6,23.4,23.4,22.4,22.8],["z"]]},{"type":"path","originX":"center","originY":"center","left":-4.399999999999999,"top":8.25,"width":8,"height":9.1,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",16.1,24.5],["c",-1.5,-0.5,-2.8,-1.5,-3.7,-2.8],["c",-1.3,1.5,-2.3,4.3,-2.8,5.9],["c",2.1,1.9,4.9,3.1,8,3.2],["C",16.1,28,16,25.6,16.1,24.5],["z"]]},{"type":"path","originX":"center","originY":"center","left":-9.3,"top":1.5147197134577581,"width":6.6,"height":8.97,"fill":"#20ACDE","stroke":null,"strokeWidth":1,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"path":[["M",11.3,18.2],["c",0,-1.1,0.3,-2.1,0.7,-3],["c",-0.8,-0.2,-3.2,-0.4,-6.3,0.5],["c",-0.2,0.8,-0.3,1.7,-0.3,2.6],["c",0,2,0.5,4,1.4,5.7],["c",0.5,-1.1,1.8,-3,4.7,-4.3],["C",11.4,19.1,11.3,18.7,11.3,18.2],["z"]]}]}],"backgroundImage":{"type":"image","originX":"left","originY":"top","left":0,"top":0,"width":1920,"height":860,"fill":"rgb(0,0,0)","stroke":null,"strokeWidth":0,"strokeDashArray":null,"strokeLineCap":"butt","strokeLineJoin":"miter","strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"clipTo":null,"backgroundColor":"","fillRule":"nonzero","globalCompositeOperation":"source-over","transformMatrix":null,"skewX":0,"skewY":0,"crossOrigin":"","cropX":0,"cropY":0,"src":"http://localhost:8080/static/scada/images/back.png","filters":[]}},"doc_id":"str_outhlmCii_","is_main":true,"doc_name":"默认文档","doc_desc":"默认文档","doc_pixel":[],"canvas_json":null,"selected":true}]}